<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸ¥” ë™ê¸€ëœë“œ ìš”ë¦¬ ì‹œì„¸ ë¶„ì„ê¸° ğŸ¥•</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', sans-serif; background: #2c2f33; color: #ffffff; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { background: #23272a; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); width: 95%; max-width: 700px; }
        h2 { text-align: center; color: #7289da; margin-bottom: 25px; font-size: 26px; }
        
        /* ì…ë ¥ì°½ ë° ë²„íŠ¼ ì˜ì—­ */
        .input-area { position: relative; width: 100%; }
        textarea { width: 100%; height: 120px; border: 2px solid #4f545c; border-radius: 10px; padding: 10px; background: #40444b; color: white; margin-bottom: 10px; resize: none; box-sizing: border-box; }
        .btn-group { display: flex; gap: 10px; margin-bottom: 20px; }
        .btn-analyze { flex: 3; padding: 15px; background: #7289da; color: white; border: none; border-radius: 10px; font-size: 18px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-clear { flex: 1; padding: 15px; background: #f04747; color: white; border: none; border-radius: 10px; font-size: 16px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-analyze:hover { background: #5b6eae; }
        .btn-clear:hover { background: #d83c3e; }

        /* ê²°ê³¼ ì„¹ì…˜ */
        .tier-section { margin-top: 20px; border-radius: 10px; background: #2f3136; padding: 15px; border-left: 5px solid #7289da; }
        .tier-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #faa61a; border-bottom: 1px solid #4f545c; padding-bottom: 5px; }
        .item-row { padding: 10px; border-bottom: 1px solid #40444b; font-size: 16px; line-height: 1.5; }
        
        /* íŒŒìŠ¤í…” ë„¤ì˜¨ íš¨ê³¼ (í…ìŠ¤íŠ¸ìš©) */
        .star { color: #ffffff; margin-right: 5px; }
        .max-neon { color: #ffb7ce; font-weight: bold; text-shadow: 0 0 10px rgba(255, 183, 206, 0.7); animation: pink-glow 1.5s infinite alternate; }
        .minus1-neon { color: #fff4a3; font-weight: bold; text-shadow: 0 0 10px rgba(255, 244, 163, 0.7); animation: yellow-glow 1.5s infinite alternate; }
        .minus2-neon { color: #a7ffeb; font-weight: bold; text-shadow: 0 0 10px rgba(167, 255, 235, 0.7); animation: cyan-glow 1.5s infinite alternate; }

        @keyframes pink-glow { 0% { text-shadow: 0 0 5px rgba(255, 183, 206, 0.4); } 100% { text-shadow: 0 0 15px rgba(255, 183, 206, 0.9); } }
        @keyframes yellow-glow { 0% { text-shadow: 0 0 5px rgba(255, 244, 163, 0.4); } 100% { text-shadow: 0 0 15px rgba(255, 244, 163, 0.9); } }
        @keyframes cyan-glow { 0% { text-shadow: 0 0 5px rgba(167, 255, 235, 0.4); } 100% { text-shadow: 0 0 15px rgba(167, 255, 235, 0.9); } }

        .symbol-info { color: #ffffff; font-weight: bold; }
        .empty-msg { color: #99aab5; font-style: italic; font-size: 14px; text-align: center; }

        /* í‘œ(Table) ìŠ¤íƒ€ì¼ */
        .price-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; background: #23272a; border-radius: 8px; overflow: hidden; }
        .price-table th { background: #40444b; padding: 8px; color: #7289da; text-align: center; }
        .price-table td { padding: 10px; border-bottom: 1px solid #2f3136; text-align: center; }
        .price-table tr:last-child td { border-bottom: none; }
        .diff-plus { color: #f04747; font-weight: bold; }
        .diff-minus { color: #00aff4; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ¥” ë™ê¸€ëœë“œ ìš”ë¦¬ ì‹œì„¸ ë¶„ì„ê¸° ğŸ¥•</h2>
    <div class="input-area">
        <textarea id="inputText" placeholder="ë””ìŠ¤ì½”ë“œ ì‹œì„¸ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!"></textarea>
    </div>
    <div class="btn-group">
        <button class="btn-analyze" onclick="analyzePrice()">ì‹œì„¸ ë¶„ì„ ì‹œì‘ ğŸš€</button>
        <button class="btn-clear" onclick="clearText()">ì´ˆê¸°í™” ğŸ§¹</button>
    </div>

    <div id="resultArea"></div>
</div>

<script>
const cookData = {
    "íƒ€ì½”": { tier: 1, max: 51 }, "í•´ë¬¼ì¹´ë ˆ": { tier: 1, max: 34 }, "ê³ êµ¬ë§ˆ ë§›íƒ•": { tier: 1, max: 51 },
    "ë² ì´ê¸€": { tier: 1, max: 51 }, "ê³ ë¡œì¼€": { tier: 1, max: 22 }, "ë¯¸íŠ¸ë³¼": { tier: 1, max: 51 },
    "ê°ìíŠ€ê¹€": { tier: 2, max: 80 }, "ì½˜ ë§ˆì¹´ë¡œë‹ˆ": { tier: 2, max: 85 }, "ì†Œê³ ê¸°ë¯¸ì—­êµ­": { tier: 2, max: 74 },
    "ë¼ë©´": { tier: 2, max: 85 }, "ë¸Œë¦¬ë˜": { tier: 2, max: 80 },
    "ìŠ¤í…Œì´í¬": { tier: 3, max: 80 }, "ì „ë³µì£½": { tier: 3, max: 97 }, "ì™€í”Œ": { tier: 3, max: 85 },
    "ë§ˆëŠ˜ë¹µ": { tier: 3, max: 85 }, "ë¸”ë£¨ë² ë¦¬ ì¹˜ì¦ˆì¼€ì´í¬": { tier: 3, max: 80 },
    "í•«ë„ê·¸": { tier: 4, max: 142 }, "ê³ êµ¬ë§ˆ íŒ¬ì¼€ì´í¬": { tier: 4, max: 89 }, "íì‹  ì˜¤ë¯ˆë ›": { tier: 4, max: 89 },
    "í™í•©íŒŒìŠ¤íƒ€": { tier: 4, max: 149 }, "ë¡œìŠ¤íŠ¸ ì¹˜í‚¨": { tier: 4, max: 89 }, "ê³¼ì¼ ì¼€ì´í¬": { tier: 4, max: 89 },
    "ìƒŒë“œìœ„ì¹˜": { tier: 4, max: 142 }
};

function clearText() {
    document.getElementById('inputText').value = "";
    document.getElementById('resultArea').innerHTML = "";
}

function analyzePrice() {
    const text = document.getElementById('inputText').value;
    const regex = /\[(.+?)\]\s*\|\s*(\d+)\s*â†’\s*(\d+)/g;
    let results = { 1: [], 2: [], 3: [], 4: [] };
    let match;

    while ((match = regex.exec(text)) !== null) {
        let name = match[1].trim();
        let oldPrice = parseInt(match[2]);
        let currPrice = parseInt(match[3]);
        
        if (cookData[name]) {
            let target = cookData[name];
            let diff = currPrice - oldPrice;
            let diffHtml = diff > 0 ? `<span class="diff-plus">â–²${diff}</span>` : (diff < 0 ? `<span class="diff-minus">â–¼${Math.abs(diff)}</span>` : "-");

            let statusClass = "";
            let tagText = "";

            if (currPrice === target.max) {
                statusClass = "max-neon";
                tagText = "ğŸ’•ìµœê³ ê°€ğŸ’•";
            } else if (currPrice === target.max - 1) {
                statusClass = "minus1-neon";
                tagText = "-1 ì›";
            } else if (currPrice === target.max - 2) {
                statusClass = "minus2-neon";
                tagText = "-2 ì›";
            }

            if (statusClass !== "") {
                results[target.tier].push({
                    name, oldPrice, currPrice, diffHtml, statusClass, tagText
                });
            }
        }
    }
    renderResults(results);
}

function renderResults(data) {
    let html = "";
    for (let i = 1; i <= 4; i++) {
        html += `<div class="tier-section">
                    <div class="tier-title">${i}ì°¨ ìš”ë¦¬</div>`;
        
        if (data[i].length === 0) {
            html += `<div class="empty-msg">ë‹¤ìŒì— ê³ ì  ëœ¨ë ¤ë‚˜ë¶€ë‹¤ ( â€¢Ì€ Ï‰ â€¢Ì )âœ§</div>`;
        } else {
            // ìš”ì•½ í…ìŠ¤íŠ¸ ì¶œë ¥
            data[i].forEach(item => {
                html += `<div class="item-row">
                            <span class="star">â­</span><span class="${item.statusClass}">${item.name}</span>
                            <span class="symbol-info"> ã€Œ ${item.tagText} ï½œ ${item.currPrice} ã€</span>
                         </div>`;
            });

            // í‘œ(Table) ì¶œë ¥
            html += `<table class="price-table">
                        <thead>
                            <tr>
                                <th>ìš”ë¦¬ëª…</th>
                                <th>ì´ì „</th>
                                <th>í˜„ì¬</th>
                                <th>ë³€ë™</th>
                            </tr>
                        </thead>
                        <tbody>`;
            data[i].forEach(item => {
                html += `<tr>
                            <td class="${item.statusClass}">${item.name}</td>
                            <td>${item.oldPrice}</td>
                            <td>${item.currPrice}</td>
                            <td>${item.diffHtml}</td>
                         </tr>`;
            });
            html += `</tbody></table>`;
        }
        html += `</div>`;
    }
    document.getElementById('resultArea').innerHTML = html;
}
</script>

</body>
</html>
